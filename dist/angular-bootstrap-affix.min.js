/**
 * angular-bootstrap-affix
 * @version v0.2.3 - 2018-08-17
 * @link https://github.com/maxisam/angular-bootstrap-affix
 * @author Olivier Louvignes (original), maxisam <maxisam@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";function getDocHeight(){var a=document;return Math.max(a.body.scrollHeight,a.documentElement.scrollHeight,a.body.offsetHeight,a.documentElement.offsetHeight,a.body.clientHeight,a.documentElement.clientHeight)}angular.module("mgcrea.bootstrap.affix",["mgcrea.jquery"]).directive("bsAffix",["$window","dimensions","$timeout",function($window,dimensions,$timeout){var AFFIX_NEEDS_UPDATING="affixNeedsUpdating",checkPosition=function(a,b,c){var d,e=window.pageYOffset,f=(window.innerHeight,getDocHeight(),dimensions.offset.call(b[0])),g=dimensions.height.call(b[0]),h=dimensions.width.call(b[0]),i=(1*c.offsetTop,1*c.offsetBottom,1*c.top),j="affix affix-top affix-bottom";if(c.offSetElement){var k=getElement(c.offSetElement);k&&k[0]&&(i=k[0].clientHeight)}return(angular.isUndefined(a.originTop)||null===a.originTop)&&(a.originTop=f.top,i&&(a.originTop=a.originTop-i)),d=g>0&&a.originTop<=e?"top":!1,a.affixed===d?void(d&&angular.isDefined(i)&&angular.isDefined(a.top)&&i!==a.top&&angular.isDefined(g)&&g>0&&b.attr("style","top:"+i+"px;width:"+h+"px;")):(a.affixed=d,b.removeClass(j).addClass(""+(d?"affix affix-"+d:"")),void(d&&angular.isDefined(i)&&angular.isDefined(g)&&g>0?(b.attr("style","top:"+i+"px;width:"+h+"px;"),a.top=i):(b.removeAttr("style"),a.top=null)))},checkCallbacks=function(scope,instance,iElement,iAttrs){instance.affixed?iAttrs.onUnaffix&&eval("scope."+iAttrs.onUnaffix):iAttrs.onAffix&&eval("scope."+iAttrs.onAffix)},getElement=function(a){var b=angular.element(document.getElementById(a));return b};return{restrict:"EAC",link:function(a,b,c){var d={unpin:null,loaded:!1},e=function(){$timeout(function(){checkPosition(d,b,c),checkCallbacks(a,d,b,c)})};(!angular.isDefined(c.disablePinning)||"true"!==c.disablePinning&&c.disablePinning!==!0)&&((angular.isUndefined(c.waitForUpdateEvent)||"true"!==c.waitForUpdateEvent&&c.waitForUpdateEvent!==!0)&&(angular.element($window).on("scroll",e),angular.element($window).on("click",onclick)),angular.isDefined(c.updateEventName)&&c.updateEventName&&a.$on(c.updateEventName,function(){angular.isDefined(c.waitForUpdateEvent)&&("true"===c.waitForUpdateEvent||c.waitForUpdateEvent===!0&&!d.loaded)&&(angular.element($window).on("scroll",e),angular.element($window).on("click",onclick),d.loaded=!0),e()}),a.$on("$destroy",function(){angular.element($window).off("scroll",e),angular.element($window).off("click",onclick)}))}}}]);